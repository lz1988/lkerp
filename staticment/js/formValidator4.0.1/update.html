<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta http-equiv="Content-Language" content="zh-cn">
<title> jQuery formValidator表单验证插件</title>
<meta name="Author" content="猫冬">
<meta name="description" content="jQuery formValidator表单验证插件" />
<meta name="keywords" content="jQuery,formValidator,插件,表单,验证,插件,javascript,表单验证,提示层" />
<link rel="stylesheet" type="text/css" href="style.css">
<SCRIPT LANGUAGE="JavaScript" src="site.js"></SCRIPT>
</head>

<body>

<SCRIPT LANGUAGE="JavaScript">writeTop();</SCRIPT>

<table cellpadding="10" width="760" cellspacing="0" align="center" class="ContentTable">
<tr>
    <td valign="top" class="Nav"> 
      <SCRIPT LANGUAGE="JavaScript">writeNav();</SCRIPT>
    </td>
    <td valign="top"> <br>
      <strong></strong> <p><font color="#0066CC" size="5"><b><u>更新记录</u></b></font><p>&nbsp;
              </p>
          <p>
              <font color="#0066cc" size="5"><b><u></u></b></font>
              <table class="NewsTable" width="100%" cellpadding="4px">
                  <tr>
                      <td width="100%">
                          <p>2011/5/22 jQuery formValidator 4.0.1 ver<br />
                            <span style="color: red">
                              <br />
                              规范插件的命名：<br />
                              1、对插件所有函数相关属性的命名采用Camel风格命名，即：第一个单词首字母小写，其余单词首字母大写。<br />
                        本次变动比较大，为了规范插件的命名，希望大家谅解。<br>
                            2、所有DEMO引用jQuery类库的时候，类库后面直接跟了版本号――表示插件支持的最高类库版本号</span><span style="color: red"><br />
                        </span>
                            <br>
                            <font color="#FF0000"><span style="color: #000000">对ajaxValidator增加以下功能：
                              <br />
                              1、解决页面回退之后，控件获得焦点，不做任何修改，失去焦点后，强行验证
                              <br />
                              2、formValidator的ajax参数(是否要提交到服务器)默认值改为false，但是ajaxValidator校验的控件无条件提交服务器
                              <br />
                              3、在url后面增加随机数。name名字为rand
                              <br />
                              4、提交之前有数据正在服务器端校验，不允许提交。如果在点击提交按钮之前，有触发ajaxValidator校验的，在提交的时候默认不允许，可以自定义错误提示，在initConfig函数里配置参数（submitAfterAjaxPrompt，默认值“当前有数据正在进行服务器端校验，请稍候”）
                              <br />
                              5、<span style="color: red">如果在点击提交之前，如果一个控件一次都没有校验过，而且含有 ajaxValidator校验，会自动触发，而且<strong><span
                                  style="text-decoration: underline">异步返回成功之后，会再次触发提交</span></strong></span>
                              <br />
                              <br />
                              其他修改：<br />
                              1、修改initConfig里的error事件，errorlist参数的输出顺序，跟控件的校验顺序相同，如果正确，对应位置的值为null
                              <br />
                              2、initConfig增加参数submitButtonID，表示触发验证的按钮ID，如果配置了formID，则formID 优先
                              <br />
                              3、reloadAutoTip、resetTipState和pageIsValid函数的参数(validatorGroup)为空，则默认当做"1"处理<br />
                              4、删除函数triggerValidate<br />
                              5、intiConfig增加属性inIframe，表示页面是否嵌在iframe里，默认false<br />
                              6、alertMessage模式下，默认自动修复错误，即autoModify=true<br />
                              7、增加FAQ里的提问<br />
                              8、修改用户手册<br />
                              <span style="color: red">7、demo1里增加2选1的范例、把错误集中显示的范例；<br />
                                8、demo2里触提交用<span style="color: #000000">submitButtonID属性</span><br />
                                <br />
                              </span>
                              <br />
                              解决以下BUG：
                              <br />
                              1、regexValidator第一次验证通过后，后面输入非法字符也验证通过的问题
                              <br />
                              2、处理升级之后，demo1里的“全角字符当做1个长度”按钮出错的问题
                              <br />
                              3、修复retSetTipState重置的时候，全部重置成onshow的问题，有些刚开始默认是通过的 
                              <br />
                              4、解决捆绑ajaxValidator校验的控件，在页面回退之后，控件获得焦点，不做任何修改，失去焦点后，验证错误的问题</span></font><font color="#FF0000"><span style="color: #000000">
                              <br />
                              5、解决自动构建提示层示例全部团聚在左上角的问题,详见demo6.html内嵌在demo.html里的代码调用</span></font><font color="#FF0000"><span style="color: #000000">
                              <br />
                        </span></font> </p>
                    </td>
                  </tr>
              </table>
        <br>
        <br><table class="NewsTable" width="100%" cellpadding="4px">
            <tr>
                <td width="100%">
                    <p>
                        2011/4/30 jQuery formValidator 4.0ver<br>
                        这次升级要感谢很多在博客里不断留言的网友，特别感谢网友“<a id="Comments1_CommentList_NameLink_38" target="_blank">mark35</a>”在博客上替我回答网友的提问，再次感谢。</p>
                    <p>
                        <strong>
                        1、这次升级精简了代码。</strong></p>
                    <p>
                        <strong>
                        2、提高校验的速度。<br />
                        </strong>
                        如果控件的name相同，则只校验一次，加快校验速度</p>
                    <p>
                        <strong>
                        3、修复4个状态为空时，没有隐藏提示的问题。</strong></p>
                    <p>
                        <strong>
                        4、修改initConfig配置里的onerror函数，增加一个“错误列表”参数。你可以把</strong><span class="blogcommentbody"><span
                            style="font-size: 9pt; color: black; font-family: 宋体; mso-ascii-font-family: Verdana;
                            mso-hansi-font-family: Verdana; mso-bidi-font-family: 'Times New Roman'; mso-font-kerning: 1.0pt;
                            mso-ansi-language: EN-US; mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA"><strong>所有的错误信息集中显示在某处<br />
                            </strong>
                        </span></span>$.formValidator.initConfig({formid:"form1",
                        <br />
                        onerror:function(msg,obj,errorlist){
                        <br />
                        &nbsp; &nbsp; //遍历所有的错误消息<br />
                        &nbsp;&nbsp; $.map(errorlist,function(msg1){alert(msg1)});&nbsp;<br />
                        },
                        <br />
                        onsuccess:function(){alert('ddd');return false;}<br />
                        });</p>
                    <p>
                        <strong>
                        5、针对问题比较多的ajaxValidator函数，进行如下修改<br />
                        </strong>
						<span style="color: red">
                        a、支持同组的所有表单值都传递给服务器端<br />
                        </span>
                        必须为每个控件增加name属性，否则是不会传递过去的。<br />
                        <span style="color: #000099">
                        b、去掉addidvalue参数。在服务器端，你可以通过name为clientid获取触发验证的控件ID名</span><br />
                        <span style="color: #000099"> c、为formvalidator增加ajax参数(值为true,false，默认true)，表示ajaxValidator是否把该表单提交给服务器</span>
					</p>
                    <p>
                        6、修正automodify参数（如果输入的值非法，则恢复原来的值）不起作用的问题</p>
                    <p>
                        <strong>6、regexValidator支持多个正则表达式与和或的校验，详见用户手册和demo1<br />
                        </strong><span style="color: #000099">a、增加属性：compareType，比较类型，默认值"||"，"||"表示或的关系，"&&"表示并列关系<br />
                            b、原regexp属性支持接收数组<br />
                        </span>范例如下：<br />
                        $("#sjdh").formValidator({empty:true,onshow:"请输入你的手机或者电话号码，可以为空哦",onfocus:"格式例如：0577-88888888或11位手机号码",oncorrect:"谢谢你的合作",onempty:"你真的不想留手机或电话了吗？"}).regexValidator({regexp:["tel","mobile"],datatype:"enum",onerror:"你输入的手机或电话格式不正确"});</p>
                    <p>
                        <strong>7、增加函数$.formvalidator.reloadAutoTip()，来重新定位自动构建的提示层<br />
                        </strong>自动构建提示层所在的网页如果在iframe里，如果刚开始是隐藏的，显示的时候，就会全部团聚在左上角。所以当显示页面的时候，要显式的调用该函数。<br />
                        官方对offset的解释：<br />
                        <strong>Note:</strong> jQuery does not support getting the offset coordinates of
                        hidden elements or accounting for borders, margins, or padding set on the body element.</p>
                </td>
            </tr>
        </table>
          </p>
          <p>
        <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><p>2009/1/24 13:59:00 jQuery formValidator 3.3ver<br>
          在升级的过程中发现了一些bug，在这个版本里做了修正；使用新版的jQuery类库，精简了不少代码。<br>
              <strong>1、升级的过程中，把inputvalidator函数的里的属性defaultvalue弄错了，导致默认值都失效。</strong><br>
            现更正为如下：<br>
            最后一个版本属性名为defaultval，现更正为了原来的属性名defaultvalue<br>
          checkbox和radio以及select控件都必须用数组进行初始化,请看demo1里的几个控件的默认值。<br>
          <br>
          <strong>2、ajaxvalidator是大家问的最多的问题，修正一个bug（感谢网友“じw√”），并把大家最关心的问题，再做一次阐述。</strong><br>
          bug现象：无论校验有没有校验通过，当控件再次得到焦点而再次失去焦点的时候tip里的提示就会停滞在得到焦点的提示<br>
          历次升级的相关记录：<br>
          a、为AjaxValidator添加一个addidvalue属性(是否自动添加id和值到url参数后面)<BR>
             
          为了修复AjaxValidator在配置信息的时候,取不到运行时候值的bug，插件将自动在url后面自动添加,形式为"id=value"的网页参数。在服务器端,你可以通过Request.querystring["id"]来取值。          具体演示请看demo1里的用户名输入和Default.aspx <br>
          b、AjaxValidator校验方式，将自动再增加一个参数到请求的地址后面"clientid=触发校验的表单ID"。<BR>
          如果你是一个jQuery集合做校验，如果用到了AjaxValidator校验方式,在服务器端，你无法知道触发校验的是哪个   表单元素，所以在请求的地址后面追加"clientid=触发校验的表单ID"。</p>
            <p><strong>3、上次更新的过程中，压缩包里忘记放入datepicker日期控件，一起更正</strong></p>
            <p>&nbsp;</p>
            <p>2008/12/7 01:44:00 jQuery formValidator 3.2ver<strong><br>
                <br>
1、为compareValidator里的datatype属性增加新的类型：date、datetime。<br>
            </strong>那么到目前为止，插件支持4种常类型:&quot;string&quot;、&quot;number&quot;、&quot;date&quot;、&quot;datetime&quot;，默认值为&quot;string&quot;</p>
            <p><strong>2、</strong><strong>为inputValidator里的属性type增加类型为date、datetime，min和max必须为string类型，会自动转换<br>
              </strong>&quot;size&quot;:表示比较长度 ，默认值<br>
              &quot;number&quot;:数值型比较<br>
              &quot;string&quot;:字符型比较<br>
              &quot;date&quot;:短日期类型<br>
            &quot;datetime&quot;:长日期类型</p>
            <p><strong>3、</strong><strong>initConfig增加属性errorfocus，表示发生错误的时候，第一个出错控件是否获得焦点。默认获得焦点。</strong></p>
            <p><strong>4、initConfig增加属性forcevalid属性;formValidator增加forcevalid属性，表示是否一直输入正确为止才允许离开焦点。<br>
              </strong>initConfig的forcevalid优先等级最高，即全局配置；而formValidator里的forcevalid是局部设置。<strong><br>
              <br>
              5、initConfig增加属性wideword,默认为false，表示是否把一个汉字当做一个长度的参数。<br>
              </strong>请见demo1最上面的按钮演示。</p>
            <p><strong>6、增加ajaxValidator对password控件的支持</strong></p>
            <p><strong>7、修正升级中出现的一些bug,现都已修复</strong><br>
              在升级的过程中，公用一个tip的功能丢失了。<br>
            bug描述：只显示第一个控件的信息，后面的控件正确与否都不理睬。<br>
            ajaxValidator的一些状态显示bug</p>
            <p>&nbsp;</p>
            <p><strong><br>
                          </strong>2008/7/17 14:12:00 jQuery formValidator 3.1ver<strong><br>
                          <br>
              1、为inputValidator增加empty属性。用于设置控件文本值是否允许两边为空。具体请看demo1里的密码的校验代码。<br>
                                      </strong>该属性是个对象，默认值{leftempty:true,rightempty:true,emptyerror:null}<br>
              leftempty:表示左边是否允许为空<br>
              rightempty:表示右边是否允许为空 <br>
              emptyerror：出现该错误的时候的提示，如果为null，则利用onerror属性来提示错误。 <br>
              <font color="#FF0000">注：只能在type:&quot;size&quot;的时候使用，即比较长度的时候。</font></p>
            <p><strong>2、修</strong><strong>改自动构建提示层的语法。为formValidator函数增加relativeid属性。<br>
              </strong> relativeid：表示提示层相对定位的控件ID，如果为空，则用当前校验控件的ID。<br>
              tipid： 表示自动创建的提示层的ID，如果为空，则用当前校验控件的ID+&quot;Tip&quot;来命名。</p>
            <p><strong>3、修正ajaxValidator函数里beforesend属性的bug。</strong>代码忘记传递它的唯一参数。</p>
            <p><strong>4、修正ajaxValidator函数在后台无法获取中文的bug。</strong></p>
            <p><strong>5、更新了升级记录、用户手册、增加了2个提问。</strong></p>
          </td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%">2008/6/21 19:05:00 jQuery formValidator 3.0ver<strong><br>
            这次插件做了比较大的功能性升级。首先感谢网友“宇赫”和“axeon”在这次代码升级中给予的建议和支持。针对这次升级，所有的相关文档都已经修改，再次感谢网友“宇赫”在修改文档和测试的时候给予的帮助。<br>
            <br>
            1、修改了插件公共函数和函数属性的命名。<font color="#FF0000">你可以用压缩包里update.exe程序自动更改你的校验代码。</font><br>
            </strong>所有的函数，首字母小写，其它单词首字母大写（匈牙利命名规范）。<br>
            例如:PageIsValid改成pageIsValid<br>
            所有的属性全部小写。 
            <p><strong>2、自动注册$.formValidator.pageIsValid()函数，为initConfig添加formid属性，表示表单ID号。如果formid为空，必须按照以前的方法自行判断，自己注册$.formValidator.pageIsValid()判断。</strong><br>
              适用环境：如果你只有一个校验组，而且利用表单的submit来提交，你可以配置这个formid参数。<br>
              例如：$.formValidator.initConfig({formid:&quot;form1&quot;,onerror:function(msg){alert(msg)}});</p>
            <p><strong>3、针对Input和Textarea两大类控件，你可以选择触发校验的事件，默认失去焦点的时候触发校验。</strong>因此为inputValidator增加一个属性：triggerevent，默认值：&quot;blur&quot;，你可以设置为&quot;change&quot;。</p>
            <p><strong>4、自动构建提示层，你可以不用设置提示的DIV了。</strong><br>
              为initConfig函数添加属性：autotip，默认false，表示：是否开启自动构建提示层。<br>
              例如：$.formValidator.initConfig({formid:&quot;form1&quot;,autotip:true,onerror:function(msg){alert(msg)}}); 
              <br>
              <br>
              样式的引用，请<strong>引用validatorAuto.css</strong>，这个样式是专为自动构建提示层用的。<br>
              代码：&lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; 
              href=&quot;style/validatorAuto.css&quot; /&gt; <br>
              <br>
              为formValidator函数添加属性：tipcss，用于定位自动提示层。该属性为标准的css属性申明。原tipid表示提示层相对位置的控件ID。默认情况下，自动提示层相对tipid，&quot;left&quot;:&quot;10px&quot;,&quot;top&quot;:&quot;1px&quot;,&quot;height&quot;:&quot;20px&quot;, 
              &quot;width&quot;:&quot;250px&quot;。<br>
              例如： tipcss:{&quot;top&quot;:&quot;1px&quot;,&quot;left&quot;:&quot;60px&quot;}。<font color="#FF0000">请注意属性名和值都必须带引号</font> 
              <br>
              请特别关注一下demo1里性别的校验代码，这里需要调整一下x的坐标，代码如下：<br>
              $(&quot;input:radio[name='sex']&quot;).formValidator({tipid:&quot;sex1&quot;,<font color="#FF0000">tipcss:{&quot;left&quot;:&quot;60px&quot;}</font>,onshow:&quot;请选择你的性别&quot;,onfocus:&quot;没有第三种性别了，你选一个吧&quot;,oncorrect:&quot;输入正确&quot;,defaultvalue:&quot;2&quot;}).inputValidator({min:1,max:1,onerror:&quot;性别忘记选了,请确认&quot;}).defaultPassed(); 
              <br>
              <br>
              开启自动构建提示层的情况下，原tipid属性表示相对定位的目标控件的ID号<br>
              关闭自动构建提示层的情况下，原tipid属性的意义不变，表示提示层的ID号</p>
            <p><strong>5、修改扩展库里的正则表达式和函数。</strong><br>
              修正国内电话的正则表达式。感谢网友&quot;Hurray&quot;提供的表达式。<br>
              修正IP4的正则表达式。感谢网友&quot;六六&quot;提供的表达式。<br>
              修正身份证校验函数，支持新的带x身份证 。感谢网友&quot;宇赫&quot;提供。<br>
            </p></td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%">2008/5/21 18:42:00 jQuery formValidator 2.9.3 ver<strong><br>
            1、增加对select-multiple的验证的支持，到现在为止插件已经支持所有控件的验证<br>
            </strong>用InputValidator来校验这种类型,<font color="#FF0000">对select-multiple而言InputValidator里的参数min和max表示选择的个数</font><br>
            示例代码：具体请见demo1里新增加的示例<br>
            $(&quot;#selectmore&quot;).formValidator({onshow:&quot;按住CTRL可以多选&quot;,onfocus:&quot;按住CTRL可以多选,至少选择2个&quot;,oncorrect:&quot;谢谢你的合作&quot;}).InputValidator({min:2,onerror:&quot;至少选择2个&quot;});
<p><strong>2、增加对checkbox设置多个默认值的支持</strong>。具体请见demo1里的选择兴趣爱好2里的代码<br>
              $(&quot;input:checkbox[@name='checkbox8']&quot;).formValidator({tipid:&quot;test2Tip&quot;,onshow:&quot;请选择你的兴趣爱好(至少选择2个,最多选择3个)&quot;,onfocus:&quot;你至少选择2个,最多选择3个&quot;,oncorrect:&quot;恭喜你,你选对了&quot;,<font color="#FF0000">defaultvalue:[&quot;7&quot;,&quot;8&quot;]</font>}).InputValidator({min:2,max:3,onerror:&quot;你选的个数不对(至少选择2个,最多选择3个)&quot;});<br>
              注意此时的defaultvalue必须是个Array<br>
            </p></td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%">2008/4/27 18:42:00 jQuery formValidator 2.9.1 ver<strong><br>
            <font color="#FF0000">1、InputValidator增加2个属性onerrormin和onerrormax,请见demo1里的[你的年龄]校验代码</font></strong><br>
            onerrormin:当用户输入的值比min属性小的时候的错误提示<br>
            onerrormax:当用户输入的值比max属性大的时候的错误提示<br>
            原onerror属性:当onerrormin或onerrormax不存在的时候,用该属性来提示错误</td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%">2008/4/13 01:20:00 jQuery formValidator 2.9 ver<br>
            1、修正API帮助里的错误。<br>
            2、<strong><font color="#FF0000">提供$.fn.unformValidator(true/false)来解除/恢复校验功能</font></strong>。true表示，解除校验功能，并会去掉提示。具体请看demo1里的身份证校验和该页面最上面的按钮。示例代码如下：<br>
              $(&quot;#sfzh&quot;).attr(&quot;disabled&quot;,true).unformValidator(true); 
              <br>
              3、提供$.formValidator.RetSetTipState(校验组号)来把提示内容恢复到onshow状态。<br>
            4、<strong><font color="#FF0000">更改控件的校验顺序，提高校验的速度</font></strong><font color="#FF0000">。现在依赖于你注册的顺序</font>，请见demo1里的校验顺序。<br>
            你可以放置100来个控件在页面上，用2.9版本和2.4版本对比一下校验速度<br>
            5、优化了formValidator校验方式的算法<font color="#FF0000">。<strong>针对radio和checkbox现在只支持用name来注册校验</strong></font><br>
            例如性别选择，有ID为&quot;nan&quot;,&quot;nv&quot;，name为&quot;sex&quot;，你目前只能这么写:<br>
            $(&quot;input:radio[name='sex']&quot;).formValidator({...}) <br>
            6、废除formValidator里的onfocusevent和onblurevent。请自行利用JQ的事件功能。<br>
            7、<strong>修改、增加了扩展库里的内容</strong>。增加的内容如下：<br>
            提供函数:isTime isDate isDateTime <br>
            调用的方法:$(&quot;#input_id&quot;).formValidator({...}).FunctionValidator({fun:isDateTime}); 
            FunctionValidator的调用，请看帮助文档<br>
            <br>
            提供正则:修改了9个正则表达式，增加了2个正则表达式<br>
            调用的方法: $(&quot;#input_id&quot;).formValidator({...}).RegexValidator({regexp:&quot;num1&quot;,datatype:&quot;enum&quot;,onerror=&quot;...&quot;}); 
            <br>
            8、<strong>修改了压缩包里FAQ.html，增加、修改了提问和回答。<br>
            </strong>如果你在调用插件的时候碰到什么问题，可能FAQ里也有类似的问题，请参考回答来解决问题。<br>
            9、<strong><font color="#FF0000">废除formValidator里的empty属性</font>。</strong>用InputValidator({min:0})来实现可以为空的情况――某种意义上说，empty和InputValidator({min:0})是功能重复了。<br>
            10<strong>、</strong>更改了$.fn.DefaultPassed函数,设置函数参数.<br>
            没有参数/false：显示onSucess状态<br>
            true:显示onShow状态 <strong><br>
            </strong>11、<strong><font color="#FF0000">为了方便调试,为initConfig增加参数debug，表示是否处于调试状态</font></strong>，默认false,不会提交表单<strong><br>
            </strong></td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><p>2008/3/23 14:50:00 jQuery formValidator 2.4 ver<br>
              代码改动最少，但能尽量的满足大家业务需求――这个是我完善插件的目标<br>
              1、修正帮助里的错误。InputValidator校验方式里的参数type的详细解释更正为:(对select无效)&quot;size&quot;:表示比较长度 
              &quot;number&quot;:数值型比较;&quot;string&quot;:&quot;字符型比较&quot;。<br>
              2、AjaxValidator校验方式，将自动再增加一个参数到请求的地址后面&quot;clientid=触发校验的表单ID&quot;。<br>
              如果你是一个jQuery集合做校验，如果用到了AjaxValidator校验方式,在服务器端，你无法知道触发校验的是哪个表单元素，所以在请求的地址后面追加&quot;clientid=触发校验的表单ID&quot;。<br>
              3、如果onshow,onfocus,oncorrect,onerror的内容为空，将不显示该提示内容。<br>
              4、废弃formValidator里的onvalid参数，用FunctionValidator校验方式来取代。例如: </p>
            <p>$(&quot;#ewjy&quot;).formValidator({...,onvalid:function(elem,val){<br>
              if(val==&quot;猫冬&quot;){<br>
              return true;<br>
              }else{<br>
              return &quot;额外校验失败,想额外校验通过，请输入\&quot;猫冬\&quot;&quot;<br>
              }})</p>
            <p>可以这么取代<br>
              $(&quot;#ewjy&quot;).formValidator({...}).FunctionValidator(fun:function(val,elem){<br>
              if(val==&quot;猫冬&quot;){<br>
              return true;<br>
              }else{<br>
              return &quot;额外校验失败,想额外校验通过，请输入\&quot;猫冬\&quot;&quot;<br>
              }<br>
              }) </p>
            </td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><p>2008/3/14 12:16:00 jQuery formValidator 2.2 ver<br>
              帮助里一直有个错误，到今天才发现，表示抱歉。<br>
              1、修正帮助里的错误。InputValidator校验方式里的参数type的详细解释更正为:(对select无效)&quot;size&quot;:表示比较长度 
              &quot;number&quot;:数值型比较;&quot;string&quot;:&quot;字符型比较&quot;。<br>
              2、AjaxValidator校验方式，将自动再增加一个参数到请求的地址后面&quot;clientid=触发校验的表单ID&quot;。<br>
              如果你是一个jQuery集合做校验，如果用到了AjaxValidator校验方式,在服务器端，你无法知道触发校验的是哪个表单元素，所以在请求的地址后面追加&quot;clientid=触发校验的表单ID&quot;。<br>
              3、如果onshow,onfocus,oncorrect,onerror的内容为空，将不显示该提示内容。<br>
              4、废弃formValidator里的onvalid参数，用FunctionValidator校验方式来取代。例如:</p>
            <p>$(&quot;#ewjy&quot;).formValidator({...,onvalid:function(elem,val){<br>
              if(val==&quot;猫冬&quot;){<br>
              &nbsp;&nbsp;&nbsp;&nbsp; return true;<br>
              }else{<br>
              &nbsp;&nbsp;&nbsp;&nbsp; return &quot;额外校验失败,想额外校验通过，请输入\&quot;猫冬\&quot;&quot;<br>
              }})</p>
            <p>可以这么取代<br>
              $(&quot;#ewjy&quot;).formValidator({...}).FunctionValidator(fun:function(val,elem){<br>
              if(val==&quot;猫冬&quot;){<br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return true;<br>
              }else{<br>
              &nbsp;&nbsp;&nbsp;&nbsp; return &quot;额外校验失败,想额外校验通过，请输入\&quot;猫冬\&quot;&quot;<br>
              }<br>
              }) </p>
            </td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%">2008/3/9 13:01:00 jQuery formValidator 2.1 ver<br>
            第一个压缩版已经放在压缩包里：formValidator_min.js；修改了GetLenght的代码；更新了demo1；更新了帮助。<br>
            1、第一个压缩版，包括版权申明在内，只有8.66k。<br>
              2、修改了getLenght函数。
            <table width="100%" border="1">
              <tr> 
                <td width="11%" rowspan="2">GetLength</td>
                <td width="23%" rowspan="2">function(&quot;表单元素id&quot;)</td>
                <td width="66%">判断表单元素的选择长度（个数）</td>
              </tr>
              <tr> 
                <td>checkbox或radiobutton表示(同组)选择的个数。<br>
                  <font color="#FF0000">对select-one，InputValidator里的参数min和max表示选择的索引号范围 
                  <br>
                  对select-more，InputValidator里的参数min和max表示选择的个数</font><br>
                  其它input表示的表示字符长度。 </td>
              </tr>
            </table>
            
          </td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><b>2008/3/1 0:53:00 jQuery formValidator 2.0 ver</b><br>
            这次又做了一次比较大的调整：增加了FunctionValidator这种校验方式，现在你可以调用外部函数了；调整了内部部分算法；更新了demo1。<br>
            1、<font color="#FF0000"><strong>增加FunctionValidator校验方式。</strong></font>作用：你可以用外部函数对表单元素进行校验和处理，返回true/false表示校验是否成功;返回字符串表示自定义错误信息，校验失败;如果没有返回值表示处理过程，校验成功。范例代码如下：<br>
            $(&quot;#sfzh&quot;).formValidator({onshow:&quot;请输入15或18位的身份证&quot;,onfocus:&quot;输入15或18位的身份证&quot;,oncorrect:&quot;输入正确&quot;}).FunctionValidator({fun:isCardID});<br>
            fun这个参数给你的函数传递了2个参数(该表单元素的值,表单元素element) 。具体情况，请看API帮助文档 <br>
            2、当你调用PageIsValid的时候，如果未校验通过，则<font color="#FF0000"><strong>给onError传递2个参数</strong></font>(第一个校验没通过元素的错误信息,第一个校验没通过元素element)。范例代码如下：<br>
            $.formValidator.initConfig({onError:function(msg){alert(msg)}}); <br>
            3、AjaxValidator校验方式增加一个配置参数buttons（你点提交的按钮(组)jQuery对象）。作用：当你触发了ajax校验，buttons里对应的按钮（组）就会灰掉，一直等待服务器返回数据为止。范例代码如下：<br>
            $(&quot;#test1&quot;).formValidator({...}).InputValidator({...}).AjaxValidator({<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;url : &quot;Default.aspx&quot;,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;datatype : &quot;json&quot;,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;success : function(data){...},<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color="#FF0000">&nbsp;<strong>buttons: 
            $(&quot;#button_id&quot;),</strong></font><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error: function(){alert(&quot;服务器没有返回数据，可能服务器忙，请重试&quot;);},<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onerror : &quot;该用户名不可用，请更换用户名重新&quot;,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onwait : &quot;正在对用户名进行合法性校验，请稍候...&quot;<br>
            }); <br>
            4、由于<strong><font color="#FF0000">增加了自定义错误信息的功能</font></strong>，为了跟FunctionValidator校验方式里&quot;fun&quot;函数返回意义统一，<font color="#FF0000"><strong>更改了formValidator里的onvalid参数返回的意义，给大家带来不便请谅解</strong></font>。返回true/false表示校验是否成功；返回字符串表示自定义错误信息，校验失败；如果没有返回值表示处理过程，校验成功。</td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><b>2008/2/24 0:53:00 jQuery formValidator 1.3 ver</b><br>
            由于工作忙，网友提了很多珍贵的意见，到现在才更新插件，真的对不住！这次修改了几处不合理的地方。<br>
            特别增加了DefaultPassed函数，并且调整了表单元素校验的顺序。<br>
            1、增加DefaultPassed函数，作用：如果你的表单元素有默认值，而且是合法的，你可以通过这个，设置默认校验通过，示例代码如下：<br>
            $(&quot;#sex&quot;).formValidator({onshow:&quot;请选择你的性别&quot;,onfocus:&quot;没有第三种性别了，你选一个吧&quot;,oncorrect:&quot;输入正确&quot;,defaultvalue:&quot;1&quot;}).InputValidator({min:1,max:1,onerror:&quot;性别忘记选了,请确认&quot;}).DefaultPassed();<br>
            2、修正了showalert模式下，只有值发生改变的时候才触发校验<br>
            3、修改了表单提交的时候，表单元素校验的顺序，现在按照表单元素的流顺序进行校验<br>
            4、demo1里集成了datatimemask插件，具体应用，请见“出生日期”的代码<br>
            5、避免了插件与别的javascript类库的$符号的冲突<br>
            6、修改了api帮助文档</td>
  </tr>
</table><br>
<table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><b>2008/2/3 22:30:44 jQuery formValidator 1.2.1 ver</b><br>
            1、修复表单元素额外校验失败还会提交得bug,即formValidator里的onvalid属性</td>
  </tr>
</table><br>

<table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><b>2008/1/25 23:30:56 jQuery formValidator 1.2.0 ver</b><br>
            这个版本，内部函数做了比较大的调整，开放了更多的函数提供给大家使用，使插件灵活性更大<br>
            特别申明：请保留插件的版权申明，谢谢<br>
            1、修改插件文件名为:formValidator.js ； 对应的正则表达式的库也被命名为formValidatorRegex.js。<br>
            2、SelectValidator被合并到InputValidtor中去，请大家赶紧修改，语法兼容，只要替换名称即可。<br>
            3、因为InputValidtor合并了SelectValidator，所以API帮助里列举了InputValidtor各属性能起作用的各种表单类型<br>
            4、开放3个公共函数，这些函数跟你的配置相关：<br>
            <table width="100%" border="1">
              <tr> 
                <td width="13%">SetFailState</td>
                <td width="31%">function(&quot;tipid&quot;,&quot;显示的信息&quot;)</td>
                <td width="56%">在showword模式下，如果你的额外校验没有通过，你可以通过它来设置成失败信息和状态。</td>
              </tr>
              <tr> 
                <td>IsOneValid</td>
                <td>function(&quot;表单元素id&quot;)</td>
                <td>主要来判断单个表单元素是否验证通过。</td>
              </tr>
              <tr> 
                <td rowspan="2">GetLength</td>
                <td rowspan="2">function(&quot;表单元素id&quot;)</td>
                <td>判断表单元素的选择长度（个数）</td>
              </tr>
              <tr>
                <td>checkbox或radiobutton表示(同组)选择的个数。<br>
                  select表示选择的selectedIndex值。<br>
                  其它的表示字符长度。 </td>
              </tr>
            </table>
            5、formValidator里的onvalid属性，增加了返回值，即插件校验成功后，你还可以额外校验。例子请参见demo1里的【额外校验】<br>
            return true表示这个表单元素校验成功<br>
            return false表示这个表单元素校验失败<br>
            错误信息，你可以通过SetFailState函数要写<br>
            6、修复在firefox下，长度验证出错的bug。发现jQuery1.2不支持这么写：$(&quot;#textarea&quot;).attr(&quot;type&quot;)</td>
  </tr>
</table><br>
<table class="NewsTable" width="100%" cellpadding="4px">
  <tr>
          <td width="100%"><b>2008/1/22 23:58:57 jQuery formValidator 1.1.2 ver</b><br>
            1、为AjaxValidator添加一个addidvalue属性(是否自动添加id和值到url参数后面)<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;为了修复AjaxValidator在配置信息的时候,取不到运行时候值的bug<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;插件将自动在url后面自动添加,形式为&quot;id=value&quot;的网页参数<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在服务器端,你可以通过Request.querystring[&quot;id&quot;]来取值<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;具体演示请看demo1里的用户名输入和Default.aspx</td>
  </tr>
</table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><b>2008/1/22 18:35:38 jsvalidation 1.1.1 ver</b><br>
            1、紧急修复AjaxValidator校验状态出错,以及显示状态的bug<br>
            2、调整了内部OneIsValid和formValidator函数的算法,使判断更加合理、有效</td>
        </tr>
      </table>
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><b>2008/1/22 9:23:44 jQuery formValidator 1.1.0 ver</b><br>
            1、开放AjaxValidator表单验证,主要对$.ajax()的调用,具体演示请看demo1里的用户名输入和Default.aspx<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用户名在服务器端的校验，我是用了随机数取模，但是每次运行返回要么都是偶数要么都是奇数（不知道什么问题）。<br>
            先是长度校验，再是格式校验，最后才是服务器端校验<br>
            2、修正AjaxValidator校验状态出错,以及显示状态的问题bug。<br>
            3、修正对AjaxValidator的api帮助。<br>
            4、修正内部几个函数的一些bug。<br>
            5、未了适应AjaxValidator，调整formValidator初始化的一部分功能。</td>
        </tr>
      </table> 
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><b>2008/1/17 20:25:29 jQuery formValidator 1.0.3 ver</b><br>
            1、把InputValidator的属性defaultvalue移到formValidator下。<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;目前defaultvalue属性只支持input和select两种tag<br>
            2、增加demo1里的范例内容，增加了性别的选择和默认值的设置（性别、学历、爱国、国家区号、你的描述）。<br>
            3、增加RegexValidator的一个属性：datatype，支持外置正则表达式的枚举类型，具体请见demo3.html<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;你可以额外包含这个js文件，定义一个数据类型,你可以自由的修改里面的名称和对应的值<br>
            var regexEnum = <br>
            {<br>
            intege:&quot;^([+-]?)\\d+$&quot; //整数<br>
            }<br>
            如何调用范例：$(&quot;#zs&quot;).formValidator({onshow:&quot;请输入整数&quot;,oncorrect:&quot;谢谢你的合作，你的整数正确&quot;}).RegexValidator({regexp:&quot;intege&quot;,datatype:&quot;enum&quot;,onerror:&quot;整数格式不正确&quot;});<br>
            4、修正自动纠错的一个bug<br>
            5、修正了api帮助文档</td>
        </tr>
      </table> 
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><b>2008/1/15 0:50:40 jQuery formValidator 1.0.2 ver</b><br>
            1、为formValidator增加tipid属性。<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;主要为了解决多个表单元素共用一个TIP的问题，提示错误的原则:后面的成功或失败信息都不覆盖前面的失败信息。针对这个属性，已经更新了demo1和源码，具体请看范例<br>
            2、修正了部分bug和api说明文档疏漏的地方</td>
        </tr>
      </table> 
      <br>
      <table class="NewsTable" width="100%" cellpadding="4px">
        <tr> 
          <td width="100%"><b>2008/1/11 20:35:08 jQuery formValidator 1.0.1 ver</b><br>
            1、修改formValidator下的属性onvalid<br>
            增加2个参数，参数1：对象本身 参数2：值。主要是校验通过后，你还希望执行一些操作，你可以方便的取到对象和值<br>
            2、去掉InputValidator、SelectValidator、CompareValidator、RegexValidator、AjaxValidator下的onvalid属性<br>
            写文档的时候太过匆忙，所以属性加多了，帮助文档和源码都已经修正<br>
            3、为formValidator增加属性:automodify,默认值：false。<br>
            这个属性只要针对，如果你输入的是非法的，离开焦点的时候将自动恢复上次的值,并且先都有提示,showword模式的提示变成onshow状态<br>
            4、为formValidator增加onfocusevent和onblurevent<br>
            因为jQuery的事件注册是覆盖的，不是attachEvent追加的，所以再托管出这两个被插件霸占住的事件onfocus和onblur<br>
            onfocusevent:获得焦点的时候，处理系统自动处理的代码后，继续你希望再执行的代码<br>
            onblurevent:失去焦点的时候，处理系统自动处理的代码后，继续你希望再执行的代码<br>
            5、提交验证过程中，如果没有验证通过，则第一个出错的获得焦点<br>
            6、申明一点：RegexValidator采用的是显式构造函数new RegExp(&quot;pattern&quot;[,&quot;flags&quot;]); 
            由于Javascript 中'\' 被用作转义字符，所以在使用显示构造函数构造实例对象的时候，需要使用'\\' 代替'\' </td>
        </tr>
      </table> 
          </p>
    </td>
</tr>
</table>
<SCRIPT LANGUAGE="JavaScript">writeBottom();</SCRIPT>

</body>

</html>